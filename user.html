<!DOCTYPE html>
<html lang="sd" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÚŠØ¬ÙŠÙ½Ù„ Ù„Ø§Ø¦Ø¨Ø±ÙŠØ±ÙŠ - Ù¾Ú™Ú¾Ù†Ø¯Ú™Ù† Ù„Ø§Ø¡Ù</title>
        <style>
        body { font-family: 'Lateef', serif; background-color: #f8fafc; color: #1e293b; direction: rtl; }
        .book-card { 
            background: white; 
            border-radius: 12px; 
            overflow: hidden; 
            transition: 0.3s; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
        }
        .book-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
        .book-cover { width: 100%; height: 280px; object-fit: cover; border-bottom: 2px solid #f1f5f9; }
        .text-small { font-size: 16px !important; }
        .text-medium { font-size: 20px !important; }
        .text-large { font-size: 26px !important; }
        .font-lateef { font-family: 'Lateef', serif !important; }
        .font-noto { font-family: 'Noto Sans Arabic', sans-serif !important; }
    </style>
</head>
<body>
    <nav class="p-6 border-b border-gray-700 bg-slate-900 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <h1 class="text-4xl font-bold text-orange-500">Ù…Ù†ÙØ±Ø¯ Ø³Ù†ÚŒÙŠ Ù„Ø§Ø¦Ø¨Ø±ÙŠØ±ÙŠ</h1>
            <input type="text" id="searchInput" onkeyup="searchBooks()" placeholder="ÚªØªØ§Ø¨ ÙŠØ§ Ù„ÙŠÚ©Úª Ú³ÙˆÙ„ÙŠÙˆ..." class="p-3 rounded-lg w-full md:w-96 text-black px-4 outline-none border-2 border-orange-500 text-right">
        </div>
        
    </nav>
<div class="flex flex-wrap justify-center gap-4 my-4 p-4 bg-slate-800 rounded-xl max-w-7xl mx-auto">
    <div class="flex gap-2 items-center">
        <span class="text-sm">Ø§Ú©Ø±:</span>
        <button onclick="changeFontSize('text-small')" class="bg-gray-600 px-3 py-1 rounded text-xs">Ù†Ù†ÚØ§</button>
        <button onclick="changeFontSize('text-medium')" class="bg-gray-700 px-3 py-1 rounded text-sm border border-orange-500">ÙˆÚ†ÙˆÙ„Ø§</button>
        <button onclick="changeFontSize('text-large')" class="bg-gray-600 px-3 py-1 rounded text-sm">ÙˆÚØ§</button>
    </div>
    <div class="flex gap-2 items-center border-r border-gray-600 pr-4">
        <span class="text-sm">ÙÙˆÙ†Ù½:</span>
        <button onclick="changeFontStyle('font-lateef')" class="bg-blue-900 px-3 py-1 rounded text-xs">Lateef</button>
        <button onclick="changeFontStyle('font-noto')" class="bg-green-900 px-3 py-1 rounded text-xs">Noto Sans</button>
    </div>
</div>

    <main class="max-w-7xl mx-auto p-6">
        <h2 class="text-2xl mb-8 border-r-4 border-orange-500 pr-4">ØªØ§Ø²Ø§ Ø´Ø§Ù…Ù„ ÚªÙŠÙ„ ÚªØªØ§Ø¨</h2>
        <div id="booksGrid" class="text-medium font-lateef grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBUqkNMDmZEpdQtk26qk_bpPVpBPmK8OY8",
            authDomain: "digital-kitab-ghar.firebaseapp.com",
            projectId: "digital-kitab-ghar",
            storageBucket: "digital-kitab-ghar.firebasestorage.app",
            messagingSenderId: "806280436680",
            appId: "1:806280436680:web:da2956efd6b3a3333abefd"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        let allBooks = [];
function displayBooks(books) {
    const grid = document.getElementById('booksGrid');
    grid.innerHTML = "";
    books.forEach(book => {
        const cover = book.coverUrl || 'https://via.placeholder.com/300x400?text=ÚªÙˆØ±_Ù…ÙŠØ³Ø±_Ù†Ø§Ù‡ÙŠ';
        grid.innerHTML += `
            <div class="book-card p-0 shadow-lg border border-gray-200">
                <img src="${cover}" class="book-cover" alt="${book.title}">
                <div class="p-4 text-right">
                    <h3 class="text-xl font-bold text-indigo-900 mb-2">${book.title}</h3>
                    <p class="text-gray-600 text-sm mb-4">Ù„ÙŠÚ©Úª: <span class="font-bold text-orange-600">${book.author}</span></p>
                    <div class="flex gap-2">
                        <a href="${book.pdfUrl}" target="_blank" class="flex-1 bg-indigo-600 text-white text-center py-2 rounded-lg hover:bg-indigo-700 transition no-underline text-sm">Ù¾Ú™Ù‡Ùˆ ğŸ“–</a>
                        <a href="${book.pdfUrl}" download class="flex-1 border border-indigo-600 text-indigo-600 text-center py-2 rounded-lg hover:bg-indigo-50 transition no-underline text-sm">ÚŠØ§Ø¦ÙˆÙ†Ù„ÙˆÚŠ â¬‡ï¸</a>
                    </div>
                </div>
            </div>`;
    });
}

        }; // Ù‡ÙŠ displayBooks Ú©ÙŠ Ø¨Ù†Ø¯ ÚªØ±ÙŠ Ù¿
window.searchBooks = function() {
    const term = document.getElementById('searchInput').value.toLowerCase();
    const filtered = allBooks.filter(b => b.title.toLowerCase().includes(term) || b.author.toLowerCase().includes(term));
    displayBooks(filtered);
};

window.changeFontSize = function(sizeClass) {
    const grid = document.getElementById('booksGrid');
    grid.classList.remove('text-small', 'text-medium', 'text-large');
    grid.classList.add(sizeClass);
};

window.changeFontStyle = function(fontClass) {
    const grid = document.getElementById('booksGrid');
    grid.classList.remove('font-lateef', 'font-noto');
    grid.classList.add(fontClass);
};

window.toggleNightMode = function() {
    document.body.classList.toggle('bg-black');
    document.body.classList.toggle('text-white');
};
</script>
</body>
</html>
